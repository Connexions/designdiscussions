<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml">  <head>    <title>Rewrite Design</title>  </head>  <body>    <h1>CNX Rewrite Design</h1>    <p><img src="images/overall-design.png" alt="Rewrite design diagram" /></p>    <h2>Authoring</h2>    <p>Authoring consists of all of the components needed for creating CNX content.<br />    </p>    <p>Components include</p>    <ul>      <li>Editor - the Editor is based on <a href="http://aloha-editor.org/">Aloha</a>, an open source HTML 5 editor</li>      <li>Workspace - Page that allows users to see a list of their content. See <a          href="http://connexions.github.com/designdiscussions/AuthoringServicesDesign.xhtml#workspace">initial design</a>.</li>      <li>Authoring - Storage of unpublished content and resources (media, images, etc.)</li>      <ul>        <li>Content is stored in a Postgres database</li>      </ul>    </ul>    <p>All of the components have an API that is used for communication between the components</p>    <p>Other services used are</p>    <ul>      <li>Logging - centralized logging service</li>      <li>Authorization (OpenStax Accounts) - an Open ID server and user information repository</li>      <li>Transformation Services - used to create a preview PDF</li>      <li>Archive - an API used for publishing content to the CNX Archive</li>    </ul>    <p>All of the web pages for Authoring are created using the same template frameworks as the Webview.</p>    <h2>Archive</h2>    <p>The Archive is the repository for published content in CNX.</p>    <p>Components incude</p>    <ul>      <li>Postgres - a database server for storing metadata about modules and collections and the content HTML</li>      <li>File System - the server file system for storing resource files (audio, images, small videos, etc.)</li>      <li>Publishing - A component that handles API calls to publish content.  See the <a          href="http://connexions.github.com/designdiscussions/ArchiveAPIRequirements.xhtml">Archive API requirements</a>.</li>    </ul>    <p>Other services used are</p>    <ul>      <li>Logging - centralized logging service</li>      <li>Authorization (OpenStax Accounts) - an Open ID server and user information repository. <br />      </li>      <li>Transformation Services - Archive API will trigger jobs on Transformatin Services to create the Export files (PDF, EPUB, etc.) for newly published content.</li>    </ul>    <h2>Authorization</h2>    <p>Authorization is provided by a shared user component.  It supports OpenID and all existing CNX users will be converted to OpenID. USers cann also log in using their existing Google, Facebook or Twitter accounts</p>    <p>Components include</p>    <ul>      <li>OpenStax Accounts</li>    </ul>    <h2>Transformation Services</h2>    <p>Transformation Services are used to import files to create content and to export published content in different formats.  Each import and export will be wrapped as a separate service that can be monitored and turned on and off without effecting the other services.</p>    <p>Export - export content in the following formats.  Exports are stored in the Archive.</p>    <ul>      <li>PDF</li>      <li>EPUB</li>      <li>Mobi</li>      <li>Offline HTML zip</li>      <li>HTML</li>      <li>CNXML</li>    </ul>    <p>Import - import the following file types and transform them into HTML for the editor</p>    <ul>      <li>Zip - contains HTML and resource files</li>      <li>HTML</li>      <li>CNXML</li>      <li>Word document</li>      <li>LaTeX zip file - contains tex and resource files<br />      </li>    </ul>    <p>Other services used are</p>    <ul>      <li>Logging - centralized logging service</li>    </ul>    <h2>Logging</h2>    <p>The Rewrite will have centralized logging to capture events from all components in the system. <br />    </p>    <p>Components include</p>    <ul>      <li>Syslog - a centralized logging system that captures log information</li>      <li>Graphite - parses the logs for display.  Allows users to filter based on criteria so that logged events can be seen based on a user id, a component, date, etc.</li>    </ul>    <p>See <a href="http://connexions.github.com/designdiscussions/RewriteLogging.xhtml">Logging Design Documention</a><br />    </p>    <h2>Webview</h2>    <p>The Webview is the display of content in a browser.</p>    <p>Components include</p>    <ul>      <li><a href="http://mustache.github.com/">Handlebars</a> templating</li>      <li><a href="http://backbonejs.org/">Backbone</a> - MVC framework for JavaScript </li>      <li><a href="http://jqueryui.com/">jQueryUI</a> -        <meta charset="utf-8" />        JavaScript UI components</li>      <li><a href="http://jquery.com/">jQuery</a> - JavaScript framework</li>      <li><a href="http://twitter.github.com/bootstrap/">Bootstrap</a> - responsive design framework</li>      <li><a href="http://underscorejs.org/">Underscore.js</a> -        <meta charset="utf-8" />        JavaScript utilities library</li>      <li><a href="http://coffeescript.org/">CoffeeScript</a> -        <meta charset="utf-8" />        A language that compiles into JavaScript</li>    </ul>    <h2>Technologies Used</h2>    <ul>      <li><a href="https://docs.google.com/spreadsheet/ccc?key=0ArvuSYeGW6GpdE1YTlEwcURpVEJQcE53c2dpNDA1TlE#gid=0">Technologies Used in Rewrite</a></li>    </ul>    <p><br />    </p>    <p></p>    <p><br />    </p>    <p><br />    </p>    <p></p>  </body></html>